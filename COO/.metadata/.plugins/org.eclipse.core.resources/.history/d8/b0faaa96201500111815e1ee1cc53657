package questionnairesUI;

import java.util.ArrayList;
import java.util.List;
import java.util.StringTokenizer;

import javax.swing.ButtonGroup;
import javax.swing.JPanel;
import javax.swing.JRadioButton;

import questionnaires.Answer;
import questionnaires.Question;

public abstract class MultipleAnswerUI extends AnswerUI<String>
{
	ButtonGroup group;
	List <JRadioButton> buttonList;
	
	public MultipleAnswerUI(Answer<String> ans, Question q) 
	{
		super(ans, q);
		this.buttonList = new ArrayList <JRadioButton>();
		StringTokenizer st = new StringTokenizer(ans.getCorrectAnswer(),"\\s+|\\s+");
		
		while (st.hasMoreElements())
		{
			this.buttonList.add(new JRadioButton(st.nextToken()));
		}
		
		st = new StringTokenizer(ans.getCorrectAnswer(),"\\s+|\\s+");
		this.group = new ButtonGroup();
		for (JRadioButton but : this.buttonList)
		{
			but.setActionCommand(st.nextToken());
			this.group.add(but);
		}
		this.group.setSelected(this.buttonList.get(0).getModel(), true);
	}


	@Override
	public JPanel getPanel() 
	{
		for (JRadioButton but : this.buttonList)
		{
			this.panel.add(but);
		}
		return this.panel;
	}

	@Override
	public String getValue() 
	{
		return this.group.getSelection().getActionCommand();
	}
}
