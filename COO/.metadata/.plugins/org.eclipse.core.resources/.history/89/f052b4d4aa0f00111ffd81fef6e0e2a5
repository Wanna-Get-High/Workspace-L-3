package mail;

import java.util.*;

public class Town 
{
	protected List <Mail<?>> boxLetter;
	protected List <Mail<?>> replyBox;
	protected boolean isOver;
	
	public Town()
	{
		this.boxLetter = new ArrayList<Mail<?>>();
		this.isOver = true;
	}
	
	public void postMail(Mail<?> m)
	{
		this.boxLetter.add(m);
	}
	
	public void postReply(Mail<?> m)
	{
		this.replyBox.add(m);
	}
	
	public void deliverMail()
	{
		this.isOver = false;
		for(Mail<?> m : this.boxLetter)
			m.getReceiver().receiveMail(m);

		this.boxLetter.clear();
		this.isOver = true;
	}
	
	public void deliverOver()
	{
		this.boxLetter.addAll(this.replyBox);
		this.replyBox.clear();
	}
	
	public boolean mailToDeliver()
	{
		return !this.boxLetter.isEmpty();
	}
	
	public List <Mail<?>> getBoxLetter()
	{
		return this.boxLetter;
	}
}
